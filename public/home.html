<!DOCTYPE html>

<head>
    <title>Create token</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <meta http-equiv="Content-Security-Policy" content="font-src 'self' data:; img-src 'self' data:; default-src 'self' http://121.0.0:8080/">
</head>
<form method="post" action="submit" id="kyc-form">
    <div class="title">Welcome</div>
    <div class="subtitle">Let's create your kyc account!</div>
    <div class="input-container ic1">
        <input id="firstname" class="input" type="text" placeholder=" " />
        <div class="cut"></div>
        <label for="firstname" class="placeholder">First name</label>
    </div>
    <div class="input-container ic2">
        <input id="lastname" class="input" type="text" placeholder=" " />
        <div class="cut"></div>
        <label for="lastname" class="placeholder">Last name</label>
    </div>
    <div class="input-container ic2">
        <input id="email" class="input" type="text" placeholder=" " />
        <div class="cut cut-short"></div>
        <label for="email" class="placeholder">Email</>
    </div>
    <div class="input-container ic2">
        <input id="DOB" class="input" type="text" placeholder=" " />
        <div class="cut cut-short"></div>
        <label for="dob" class="placeholder">Date of birth: dd/mm/yyyy</>
    </div>
    <div class="input-container ic2">
        <input id="city" class="input" type="text" placeholder=" " />
        <div class="cut cut-short"></div>
        <label for="city" class="placeholder">city</>
    </div>
    <div class="input-container ic2">
        <input id="account" class="input" type="text" placeholder=" " />
        <div class="cut cut-short"></div>
        <label for="account" class="placeholder">enter amount</>
    </div>
    <div class="input-container ic2">
        <input id="bank" class="input" type="text" placeholder=" " />
        <div class="cut cut-short"></div>
        <label for="bank" class="placeholder">Bank name:</>
    </div>
    <button type="text" class="submit" value="submit form">submit</button>
</form>
<script>
    const form = document.getElementById('kyc-form')
    form.addEventListener('submit', submitKyc)

    function submitKyc(event){
        event.preventDefault()
        const firstname = document.getElementById('firstname')
        const lastname = document.getElementById('lastname')
        const email = document.getElementById('email')
        const DOB = document.getElementById('dob')
        const city = document.getElementById('city')
        const account = document.getElementById('account')
        const bank = document.getElementById('bank')

        const result = await fetch('/api/register ', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                firstname,
                lastname, 
                email, 
                dob, 
                city, 
                account, 
                bank
            })
        }).then(res => res.json())

        console.log(result)
    }
</script>

</html>